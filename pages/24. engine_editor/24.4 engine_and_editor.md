## 24.4 分离引擎核心层和应用层

前面的章节实例，其实好像一直在做一个游戏程序啊！

你看，在`Application`里启动，创建初始化glfw，然后开始loop刷帧，这和我鼠标双击启动原神是不是一个流程，所以它更像是一个游戏，而不是一个引擎。

怎么也得有个编辑器才能称得上是游戏引擎，是吧！

在编辑器里搞搞UI、搭个场景，然后发布一个游戏包，这才像是使用游戏引擎的姿势，比较高大上。

这里就遇到一个很纠结的问题。

在引擎编辑器里播放一个人物动画，需要用到引擎的骨骼动画渲染。

在发布的游戏包里播放一个人物动画，也需要用到引擎的骨骼动画渲染。

那我现在，是要复制出来一份代码，然后再到上面去做引擎编辑器？

这多麻烦，以后骨骼动画渲染逻辑要修改，还得改2个地方。

再想一下。

引擎编辑器和发布的游戏包是有共性的。

为了播放一个人物动画，它们都需要引擎的骨骼动画渲染模块。

为了播放一段音乐，它们都需要引擎的音频模块。

那么这些共用的模块，就可以提取出来，作为引擎核心层。

然后将引擎编辑器和游戏包的一些逻辑单独抽取出来，作为应用层。

这样就只需要一个工程了。

[架构图]




## 98.2 开发SP功能性插件

下面通过SP官网的自定义导出插件例子，来入门功能性插件开发，官网地址：

	https://substance3d.adobe.com/documentation/spdoc/creating-a-javascript-plugin-197427408.html

在上一节`helloworld`插件的基础上，将自定义按钮的点击事件，修改为导出图片的功能。

### 1.创建插件代码文件

复制`helloworld`插件文件夹，改名为` export-textures`，拷贝下面代码：
`toolbar.qml`描述了自定义按钮的属性，代码如下：

```js
import QtQuick 2.7
import AlgWidgets 2.0
import AlgWidgets.Style 2.0

AlgButton
{
	tooltip: "这是一个按钮，点击会在log窗口输出helloworld"
	iconName: ""
	text: "第一个插件"
}
```
`main.qml` 将`toolbar.qml`描述的自定义按钮，添加到工具栏，并指定按钮点击事件，代码如下：

```js
import QtQuick 2.7
import Painter 1.0

// Root object for the plugin
PainterPlugin
{
	// Disable update and server settings
	// since we don't need them
	tickIntervalMS: -1 // Disabled Tick
	jsonServerPort: -1 // Disabled JSON server

	// 插件加载完毕回调
	Component.onCompleted:
	{
		// 将 toolbar.qml 描述的按钮，添加到工具栏
		var InterfaceButton = alg.ui.addToolBarWidget("toolbar.qml");

		// 给按钮加事件
		if( InterfaceButton )
		{
			InterfaceButton.clicked.connect( SayHello );
		}
	}

	function SayHello()
	{
		alg.log.info( "hello world")
	}
}
```
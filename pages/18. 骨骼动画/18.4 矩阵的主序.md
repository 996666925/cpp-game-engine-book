## 18.4 矩阵的主序

以位移举例来说明。

坐标`(0.f,1.f,0.f)`，构建向Y移动2的矩阵，相乘后应该得到`(0.f,3.f,0.f)`。

### 测试GLM

```c++
glm::vec4 pos=glm::vec4(0.f,1.f,0.f,1.f);

glm::mat4 mat=glm::translate(glm::vec3(0.f,2.f,0.f));
std::cout<<glm::to_string_beauty(mat)<<std::endl;
```

$
\left|
\begin{array}{cccc}
    1  &  0   & 0 & 0\\
    0  &  1   & 0 & 0\\ 
    0  &  0   & 1 & 0\\ 
    0  &  2   & 0 & 1
\end{array}
\right| * \left|
\begin{array}{cccc} 
    0 \\ 
   1\\ 
    0\\
    1 
\end{array}
\right| = \left|
\begin{array}{cccc} 
    0 \\ 
   3\\ 
    0\\
    1 
\end{array}
\right| 
$



### 测试Blender

下面代码输出T-Pos状态关节点的矩阵。

```python
for i in range(0, len(bpy.context.visible_pose_bones)):
    bone = bpy.context.visible_pose_bones[i]
    matrix_local = armature_obj.data.bones[bone.name].matrix_local @ Matrix.Rotation(radians(-90), 4, "X")
    print(bone.name+":"+str(matrix_local))
```

![](../../imgs/skeleton_animation/glm_blender_matrix/blender_matrix.jpg)

可以看到位移数据位于右侧一列
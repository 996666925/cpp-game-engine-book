## 17.1 Lua与C++交互

sol2特性
1. lua可以对cpp class添加函数
2. 不能覆盖函数
3. set_function加lambda在vs下面会有一大堆提示信息，加上overload就不会有了……，github上新版本已经修复等release。
4. 调用cpp的构造函数是需要调用new的。
   ```c++
    sol::table engine_table=sol_state["Engine"];
    sol::table player_table=engine_table["Player"];
    sol::protected_function  player_new_function=player_table["new"];
    auto result=player_new_function();
    if(result.valid()==false){
        sol::error err=result;
        std::cerr<<err.what()<<std::endl;
    }
    sol::table player_instance_table=result;
    player_instance_table["hp_"]=4;
    Player* player_create_from_lua=player_instance_table.as<Player*>();
    int hp=player_create_from_lua->hp_;
   ```
5. qweqwe